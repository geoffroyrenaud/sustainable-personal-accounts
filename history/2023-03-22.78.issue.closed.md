# [\#78 Issue](https://github.com/reply-fr/sustainable-personal-accounts/issues/78) `closed`: test that storage (S3, DynamoDB) is encrypted

#### <img src="https://avatars.githubusercontent.com/u/235078?v=4" width="50">[bernard357](https://github.com/bernard357) opened issue at [2023-03-22 08:01](https://github.com/reply-fr/sustainable-personal-accounts/issues/78):

## What is this?
These are additional tests on templates generated by CDK to ensure that encryption has been configured for S3 and for DynamoDB

## Why is this important?
During the non-regression tests we want to detect situations were CloudFormation templates that are generated by CDK do not ask for encrypted storage.

## How to implement it?
We can use the CDK assertions to check the CloudFormation that is generated:
- [x] add a test file for `cdk/reports_constructs.py`
- [x] add a test file for `cdk/on_account_event_then_meter_constructs.py`
- [x] add a test file for `cdk/on_account_event_then_shadow_constructs.py`
- [x] add a test file for `cdk/on_record_constructs.py`
- [x] validate `make lint` 
- [x] validate `make all-tests` 

Learn more:
- [https://cdkworkshop.com/30-python.html](https://cdkworkshop.com/30-python.html)




-------------------------------------------------------------------------------



[Export of Github issue for [reply-fr/sustainable-personal-accounts](https://github.com/reply-fr/sustainable-personal-accounts).]
