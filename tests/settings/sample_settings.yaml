# prefix for cloud resources and cloud stack
#
environment_identifier: SpaDemo

# parameters for resources deployed in the automation account
#
automation:

  # the target account for the deployment of the solution
  #
  account_id: "123456789012"

  # the target region for the deployment of the solution
  #
  region: "eu-west-1"

  # this is displayed in the monitoring dashboard
  #
  cockpit_markdown_text: |
    # Sustainable Personal Accounts Dashboard
    Currently under active development (beta)

  # this expression defines when accounts are expired
  # Reference:
  # - https://docs.aws.amazon.com/lambda/latest/dg/services-cloudwatchevents-expressions.html
  #
  maintenance_window_expression: "cron(0 18 ? * SAT *)"

  # this role is assumed by Lambda functions either to list AWS accounts in the OU,
  # or to tag AWS accounts
  #
  role_arn_to_manage_accounts: 'arn:aws:iam::222222222222:role/SpaAccountsManagementRole'

  # this role is assumed by Lambda functions to create CodeBuild projects and to start them
  #
  role_name_to_manage_codebuild: 'AWSControlTowerExecution'

  # these e-mail addresses receive messages on alerts
  #
  subscribed_email_addresses:
  - finops_alerts@acme.com
  - cloud_operations@acme.com

  # these tags are used on resources deployed in automation account
  #
  tags:
    CostCenter: 'shared'

  # this defines the amount of text sent to logs
  # - allowed values: DEBUG, INFO, WARNING, ERROR, CRITICAL
  # - default value: INFO
  #
  verbosity: ERROR


# parameters for resources deployed in managed accounts
#
worker:

  # this is the buildspec template for the preparation of an account managed by SPA
  #
  preparation_buildspec_template_file: "tests/buildspec/preparation_account_template.yaml"

  # this is the buildspec tempalte for the purge of an account managed by SPA
  #
  purge_buildspec_template_file: "tests/buildspec/purge_account_template.yaml"


# these are organizational units where accounts are managed by the solution
#
organizational_units:

  # settings specific to accounts placed in this organizational unit
  #
  - identifier: 'ou-1234'
    note: 'a container for some accounts'

    # added to every account
    #
    account_tags:
      CostCenter: 'abc'
      Sponsor: 'Foo Bar'

    # name of the budget created in each account
    #
    budget_name: 'DataTeamBudget'

    # amount of monthly budget for individual account
    #
    cost_budget: 500.0

    # passed to Codebuild project for the preparation of an account
    #
    preparation_variables:
      HELLO: WORLD

    # passed to Codebuild project for the purge of an account
    #
    purge_variables:
      DRY_RUN: 'TRUE'

    # disable some or all of Codebuild activities
    #
    # skipped:
    # - preparation
    # - purge

  # settings specific to accounts placed in this organizational unit
  #
  - identifier: 'ou-5678'
    note: 'another account container'

    # added to every account
    #
    account_tags:
      CostCenter: 'xyz'
      Sponsor: 'Mister Jones'

    # name of the budget created in each account
    #
    budget_name: 'DevelopmentTeamBudget'

    # amount of monthly budget for individual account
    #
    cost_budget: 300

    # passed to Codebuild project for the preparation of an account
    #
    preparation_variables:
      HELLO: UNIVERSE

    # passed to Codebuild project for the purge of an account
    #
    purge_variables:
      DRY_RUN: 'FALSE'

    # disable some or all of Codebuild activities
    #
    skipped:
    - preparation
    - purge
